<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2106993337225854"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="alternate" type="application/xml" href="/sitemap.xml">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="preload" href="https://cdn.jsdelivr.net/npm/boxicons@2.0.5/fonts/boxicons.woff2" as="font" type="font/woff2" crossorigin>
<link href="https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/custom.css">
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>
    <title>Sports News | Aidoko Emmanuel</title>
</head>
<body>
    <header class="l-header">
        <nav class="nav bd-grid">
            <div>
                <a href="index.html" class="nav__logo">Aidoko Emmanuel</a>
            </div>
            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item"><a href="index.html" class="nav__link">Home</a></li>
                    <!-- <li class="nav__item"><a href="about.html" class="nav__link">About</a></li> -->
                    <li class="nav__item"><a href="technews.html" class="nav__link">Tech News</a></li>
                    <li class="nav__item"><a href="sportnews.html" class="nav__link active">Sports</a></li>
                    <li class="nav__item"><a href="entnews.html" class="nav__link">Entertainment</a></li>
                    <li class="nav__item"><a href="civildef_exam.html" class="nav__link">CDCFIB EXAMS</a></li>
               
                </ul>
            </div>
            <div class="nav__toggle" id="nav-toggle">
                <i class='bx bx-menu'></i>
            </div>
        </nav>
    </header>
    <main class="l-main">
        <section class="section" id="sports-news-section">
            <h2 class="section-title">Latest Sports News</h2>
            <div id="news-list" class="bd-grid news-grid"></div>
        </section>
    </main>
    <footer class="footer section">
        <div class="footer__container bd-grid">
            <div class="footer__data">
                <h2 class="footer__title">Aidoko Emmanuel</h2>
                <p class="footer__text">I'm Aidoko Emmanuel and this is my personal website</p>
            </div>
            <div class="footer__data">
                <h2 class="footer__title">EXPLORE</h2>
                <ul>
                    <li><a href="index.html" class="footer__link">Home</a></li>
                    <li><a href="about.html" class="footer__link">About</a></li>
                    <li><a href="technews.html" class="footer__link">Tech News</a></li>
                    <li><a href="sportnews.html" class="footer__link">Sports</a></li>
                    <li><a href="entnews.html" class="footer__link">Entertainment</a></li>
                    <li><a href="privacy-policy.html" class="footer__link footer__link--privacy">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer__data">
                <h2 class="footer__title">FOLLOW</h2>
                <a href="https://www.facebook.com/terryems" class="footer__social" title="Facebook"><i class='bx bxl-facebook'></i></a>
                <a href="https://www.github.com/terryems" class="footer__social" title="GitHub"><i class='bx bxl-github'></i></a>
                <a href="https://www.linkedin.com/in/terryems" class="footer__social" title="LinkedIn"><i class='bx bxl-linkedin'></i></a>
            </div>
            <div class="footer__ad">
                <!-- manual ad unit -->
                <ins class="adsbygoogle"
                     data-ad-client="ca-pub-2106993337225854"
                     data-ad-slot="9996782272"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
    </footer>
    <script>
    const API_KEY = '65223cc46bdb4c50a35fb13efcec3c70';
    
    async function saveToNewsJson(newsItem) {
        try {
            // Get existing news
            const response = await fetch('news.json');
            const existingNews = await response.json();
            
            // Check if article already exists (avoid duplicates)
            const exists = existingNews.find(item => item.title === newsItem.title);
            if (!exists) {
                // Add new article to the beginning
                existingNews.unshift(newsItem);
                
                // Keep only latest 50 articles to prevent file from getting too large
                const updatedNews = existingNews.slice(0, 50);
                
                // Save to localStorage for now (since we can't write files from browser)
                localStorage.setItem('additionalNews', JSON.stringify(updatedNews));
            }
        } catch (error) {
            console.error('Error saving to news.json:', error);
        }
    }
    
    async function loadSportsNews() {
        const newsList = document.getElementById('news-list');
        newsList.innerHTML = '<div class="loading-center">Loading sports news...</div>';
        
        try {
            // Load local sports news first
            const localResponse = await fetch('news.json');
            const localNews = await localResponse.json();
            const localSports = localNews.filter(item => item.category === 'sports');
            
            // Get football news from BBC Sport
            const bbcSportsUrl = `https://newsapi.org/v2/everything?domains=bbc.com&q=football OR soccer OR premier league&language=en&sortBy=publishedAt&pageSize=5&apiKey=${API_KEY}`;
            
            // Get general sports news
            const sportsUrl = `https://newsapi.org/v2/everything?q=football OR soccer OR sports OR FIFA OR UEFA&language=en&sortBy=publishedAt&pageSize=5&apiKey=${API_KEY}`;
            
            // Get ESPN sports news
            const espnUrl = `https://newsapi.org/v2/everything?sources=espn&pageSize=3&apiKey=${API_KEY}`;
            
            const [bbcResponse, sportsResponse, espnResponse] = await Promise.all([
                fetch(bbcSportsUrl),
                fetch(sportsUrl),
                fetch(espnUrl)
            ]);
            
            const [bbcData, sportsData, espnData] = await Promise.all([
                bbcResponse.json(),
                sportsResponse.json(),
                espnResponse.json()
            ]);
            
            let allNews = [...localSports];
            
            // Add BBC football news
            if (bbcData.status === 'ok' && bbcData.articles) {
                bbcData.articles.forEach((article, index) => {
                    allNews.push({
                        id: `bbc-football-${index}`,
                        title: article.title,
                        image: article.urlToImage || 'assets/img/football-default.jpg',
                        summary: article.description || 'BBC Football News',
                        url: article.url,
                        date: new Date(article.publishedAt).toLocaleDateString(),
                        source: 'BBC Sport'
                    });
                });
            }
            
            // Add general sports news
            if (sportsData.status === 'ok' && sportsData.articles) {
                sportsData.articles.forEach((article, index) => {
                    const newsItem = {
                        id: `sports-${Date.now()}-${index}`,
                        title: article.title,
                        image: article.urlToImage || 'assets/img/sports-default.jpg',
                        summary: article.description || 'Latest Sports News',
                        content: `${article.content || article.description || 'Full article content not available.'}<br><br><strong>Source:</strong> ${article.source.name}<br><strong>Original URL:</strong> <a href="${article.url}" target="_blank" rel="noopener noreferrer" class="external-link">${article.url}</a>`,
                        date: new Date(article.publishedAt).toLocaleDateString(),
                        category: 'sports',
                        source: article.source.name
                    };
                    allNews.push(newsItem);
                    // Save to news.json
                    saveToNewsJson(newsItem);
                });
            }
            
            // Add ESPN sports news
            if (espnData.status === 'ok' && espnData.articles) {
                espnData.articles.forEach((article, index) => {
                    allNews.push({
                        id: `espn-${index}`,
                        title: article.title,
                        image: article.urlToImage || 'assets/img/sports-default.jpg',
                        summary: article.description || 'ESPN Sports News',
                        url: article.url,
                        date: new Date(article.publishedAt).toLocaleDateString(),
                        source: 'ESPN'
                    });
                });
            }
            
            // Remove duplicates and sort by date
            const uniqueNews = allNews.filter((item, index, self) => 
                index === self.findIndex(t => t.title === item.title)
            );
            
            if (uniqueNews.length === 0) {
                    newsList.innerHTML = '<p class="muted-center">No sports news available yet.</p>';
                return;
            }
            
            newsList.innerHTML = uniqueNews.slice(0, 10).map(item => `
                <div class="news-card">
                    <img src="${item.image}" alt="${item.title}" class="news-card__img news-card__img--cover" onerror="this.src='assets/img/sports-default.jpg'">
                    <h3 class="news-card__title">${item.title}</h3>
                    <p class="news-card__summary">${(item.summary || '').substring(0, 120)}...</p>
                    <small class="news-source">Source: ${item.source || 'Sports News'}</small>
                    <a href="read.html?id=${item.id}" class="news-read-link">Read More</a>
                </div>
            `).join('');
            
        } catch (error) {
            console.error('Error loading sports news:', error);
            newsList.innerHTML = '<p class="error-center">Error loading sports news. Please try again later.</p>';
        }
    }
    
    fetch('news.json')
      .then(response => response.json())
      .then(news => {
        // Filter news by category 'sports'
        const sportsNews = news.filter(item => item.category === 'sports');
        const newsList = document.getElementById('news-list');
        if (sportsNews.length === 0) {
          newsList.innerHTML = '<p class="muted-center">No sports news available yet.</p>';
        } else {
                    newsList.innerHTML = sportsNews.map(item => `
                        <div class="news-card">
                            <img src="${item.image}" alt="${item.title}" class="news-card__img">
                            <h3 class="news-card__title">${item.title}</h3>
                            <p class="news-card__summary">${item.summary}</p>
                            <a href="read.html?id=${item.id}" class="news-read-link">Read More</a>
                        </div>
                    `).join('');
        }
      })
      .catch(error => {
        console.error('Error loading news:', error);
        document.getElementById('news-list').innerHTML = '<p class="muted-center">Error loading sports news.</p>';
      });
    </script>
</body>
</html>